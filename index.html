<!DOCTYPE html>
<html lang="pt-br">
    <head>
     <meta charset="utf-8">
     <meta name="theme-color" content="#fff"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PWA</title>
    <link rel="stylesheet" type="text/css" href="./assets/css/style.css" media="all">
    <link rel="manifest" href="manifest.json">
    </head>
    <body>
        <h1 class="vertical-container">Hola Mundo PWA</h1>
        <script src="https://www.gstatic.com/firebasejs/5.8.5/firebase.js"></script>
        <script>
        // Initialize Firebase
        var config = {
    		apiKey: "AIzaSyBD9VhHWmH5QiCJmx7Z36zeYvTadY4nrc8",
    		authDomain: "knaimero-pwa.firebaseapp.com",
    		databaseURL: "https://knaimero-pwa.firebaseio.com",
    		projectId: "knaimero-pwa",
    		storageBucket: "knaimero-pwa.appspot.com",
    		messagingSenderId: "260761984788"
        };
        firebase.initializeApp(config);
        </script>
        <script>
            if ('serviceWorker' in navigator) { 
                console.log("Will the service worker register?"); 
                navigator.serviceWorker.register('sw.js') 
                .then(function(reg){ 
                    console.log("Yes, it did."); 
                }).catch(function(err) { 
                    console.log("No it didn't. This happened:", err) 
                }); 
            } 
        </script>
        <script>
            const messaging = firebase.messaging();
            messaging.requestPermission()
            .then(function() {
                console.log('Notification permission granted.');
                return messaging.getToken();
            })
            .then(function(token) {
                console.log(token);
            })
            .catch(function(err) {
                console.log('Unable to get permission to notify.', err);
            })
        </script>
    </body>
</html>
